{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport Head from \"next-server/head\";\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport styled from 'styled-components';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport base from '../config';\nimport Router from 'next/router';\nimport Navbar from '../components/Navbar';\nimport Pricing from '../components/Pricing';\nvar IndexWrapper = styled.div.withConfig({\n  displayName: \"pages__IndexWrapper\",\n  componentId: \"sc-1wbo52z-0\"\n})([\"box-sizing:border-box;border:10px solid #1f1f1f;\"]);\nvar StyledPaper = styled(Paper).withConfig({\n  displayName: \"pages__StyledPaper\",\n  componentId: \"sc-1wbo52z-1\"\n})([\"border-radius:8px !important;padding:16px !important;box-sizing:border-box !important;background:#FFFFFF !important;box-shadow:0 2px 16px -2px rgba(31,31,31,0.32) !important;\"]);\nvar StyledTextField = styled(TextField).withConfig({\n  displayName: \"pages__StyledTextField\",\n  componentId: \"sc-1wbo52z-2\"\n})([\"width:100% !important;margin-bottom:16px !important;border-radius:8px !important;font-family:'Source Sans Pro',sans-serif !important;& fieldset{border-radius:0 !important;border:4px solid #1f1f1f !important;}& input{border-radius:0 !important;font-family:'Source Sans Pro',sans-serif !important;}\"]);\nvar StyledButton = styled(Button).withConfig({\n  displayName: \"pages__StyledButton\",\n  componentId: \"sc-1wbo52z-3\"\n})([\"width:100% !important;height:56px !important;color:#fff !important;font-family:'Source Sans Pro',sans-serif !important;font-size:1.25rem !important;font-weight:700 !important;background:#1f1f1f !important;border-radius:0px !important;text-transform:none !important;margin-bottom:8px !important;box-shadow:none !important;position:relative !important;&:after{content:\\\"\\\";display:block;position:absolute;height:56px;width:100%;background:#f94343;z-index:-1;top:4px;left:4px;}\"]);\nvar Hero = styled.section.withConfig({\n  displayName: \"pages__Hero\",\n  componentId: \"sc-1wbo52z-4\"\n})([\"width:100%;padding:156px 16px 16px;box-sizing:border-box;@media only screen and (min-width:960px){padding:156px 120px 16px;}\"]);\nvar HeroTitle = styled.h1.withConfig({\n  displayName: \"pages__HeroTitle\",\n  componentId: \"sc-1wbo52z-5\"\n})([\"font-family:'Montserrat',sans-serif;font-size:2.5rem;font-weight:800;color:#1f1f1f;margin:0 0 24px;text-align:center;& span{text-transform:uppercase;background:#f94343;color:#fff;font-size:4rem;padding:0 8px;box-sizing:border-box;display:block;}\"]);\nvar HeroCopy = styled.p.withConfig({\n  displayName: \"pages__HeroCopy\",\n  componentId: \"sc-1wbo52z-6\"\n})([\"font-family:'Source Sans Pro',sans-serif;font-weight:500;font-size:1.75rem;color:#1f1f1f;padding:0;margin:0 0 24px;\"]);\nvar HeroSpan = styled.span.withConfig({\n  displayName: \"pages__HeroSpan\",\n  componentId: \"sc-1wbo52z-7\"\n})([\"font-size:1rem;font-weight:500;color:#9f9f9f;width:100%;text-align:center;display:flex;justify-content:center;align-items:center;\"]);\nvar Demo = styled.div.withConfig({\n  displayName: \"pages__Demo\",\n  componentId: \"sc-1wbo52z-8\"\n})([\"width:100%;max-width:360px;height:600px;display:block;box-shadow:0 2px 16px -2px rgba(31,31,31,0.32) !important;border-radius:8px;background-image:url('/static/demo.png');background-size:cover;background-position:center;\"]);\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n    _this.state = {};\n    _this.inputRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"handleCapture\",\n    value: function handleCapture(e) {\n      e.preventDefault();\n      var email = this.inputRef.current.value;\n      console.log(email);\n      var auth = base.initializedApp.auth;\n      firebase.auth().signInAnonymously().catch(function (error) {\n        // Handle Errors here.\n        console.log(error);\n        var errorCode = error.code;\n        var errorMessage = error.message; // ...\n      });\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          // User is signed in.\n          var isAnonymous = user.isAnonymous;\n          var uid = user.uid;\n          console.log(user);\n          console.log(uid);\n          var data = {\n            owner: uid,\n            email: email\n          };\n          base.addToCollection('restaurants', data).then(function () {\n            console.log('success');\n          }).catch(function (err) {//handle error\n          });\n          Router.push('/initiate'); // ...\n        } else {} // User is signed out.\n          // ...\n          // ...\n\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(IndexWrapper, null, React.createElement(Hero, null, React.createElement(Head, null, React.createElement(\"title\", null, \"Somm | Your menu's personal assistant\")), React.createElement(Navbar, null), React.createElement(Grid, {\n        container: true,\n        spacing: 16\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        md: 6,\n        lg: 6,\n        xl: 6\n      }, React.createElement(HeroTitle, null, \"Your restaurant deserves\", React.createElement(\"br\", null), React.createElement(\"span\", null, \"a better menu\")), React.createElement(HeroCopy, null, \"Supercharge your business with Somm, a personal assistant for your menu with powerful features and valuable insights.\"), React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return _this2.handleCapture(e);\n        }\n      }, React.createElement(StyledTextField, {\n        variant: \"outlined\",\n        label: \"Business email\",\n        placeholder: \"tkeller@thefrenchlaundry.com\",\n        type: \"email\",\n        inputRef: this.inputRef,\n        required: true\n      }), React.createElement(StyledButton, {\n        variant: \"contained\",\n        size: \"large\",\n        type: \"submit\"\n      }, \"Get early access\"), React.createElement(HeroSpan, null, \"Free forever \\xB7 Cancel whenever \\xB7 No credit card required\"))), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        md: 6,\n        lg: 6,\n        xl: 6,\n        style: {\n          display: 'flex',\n          alignItems: 'flex-start',\n          justifyContent: 'center'\n        }\n      }, React.createElement(Demo, null)))), React.createElement(Pricing, null));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}