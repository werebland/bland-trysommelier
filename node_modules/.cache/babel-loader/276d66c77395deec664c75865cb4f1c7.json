{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/Chris/trysomm/pages/initiate.js\";\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport posed, { PoseGroup } from 'react-pose';\nimport { ProgressBar, Step } from \"react-step-progress-bar\";\nimport _ from 'lodash';\nimport firebase from 'firebase';\nimport 'firebase/storage';\nimport base from '../config';\nimport Head from \"next-server/head\";\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport MenuAdder from '../components/MenuAdder';\nimport Navbar from '../components/Navbar';\nvar storage = firebase.storage();\nvar storageRef = storage.ref();\nvar PageWrapper = styled.div.withConfig({\n  displayName: \"initiate__PageWrapper\",\n  componentId: \"x6xz0w-0\"\n})([\"padding:156px 24px 24px;box-sizing:border-box;border:10px solid #1f1f1f;min-height:100vh;@media only screen and (min-width:960px){padding:156px 16px 16px;}\"]);\nvar StyledTextField = styled(TextField).withConfig({\n  displayName: \"initiate__StyledTextField\",\n  componentId: \"x6xz0w-1\"\n})([\"width:100% !important;max-width:360px !important;margin-bottom:16px !important;border-radius:8px !important;font-family:'Source Sans Pro',sans-serif !important;& fieldset{border-radius:0 !important;border:4px solid #1f1f1f !important;}& input{border-radius:0 !important;font-family:'Source Sans Pro',sans-serif !important;}\"]);\nvar StyledButton = styled(Button).withConfig({\n  displayName: \"initiate__StyledButton\",\n  componentId: \"x6xz0w-2\"\n})([\"height:56px !important;color:#fff !important;font-family:'Source Sans Pro',sans-serif !important;font-size:1.25rem !important;font-weight:700 !important;background:\", \"!important;border-radius:0px !important;text-transform:none !important;margin-bottom:8px !important;box-shadow:none !important;position:relative !important;border:0 !important;transition:0.2s ease-out all;padding:0 24px !important;&:after{content:\\\"\\\";display:block;position:absolute;height:56px;width:100%;background:\", \";z-index:-1;top:4px;left:4px;}\"], function (props) {\n  return props.disabled ? '#dfdfdf' : '#1f1f1f';\n}, function (props) {\n  return props.disabled ? '#1f1f1f' : '#f94343';\n});\nvar PosedPageTitle = posed.h1({\n  closed: {\n    flex: 1,\n    fontSize: '20px'\n  },\n  open: {\n    flex: 5,\n    fontSize: '40px'\n  }\n});\nvar PageTitle = styled(function (props) {\n  return React.createElement(PosedPageTitle, _extends({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }));\n}).withConfig({\n  displayName: \"initiate__PageTitle\",\n  componentId: \"x6xz0w-3\"\n})([\"font-size:2rem;font-weight:700;font-family:'Montserrat',sans-serif;color:#1f1f1f;position:relative;margin:0 auto 16px;display:inline-flex;&:after{content:\\\"\\\";width:100%;height:8px;background:#f94343;display:block;position:absolute;bottom:0px;left:4px;z-index:-1;}\"]);\nvar GetStartedFormProgress = styled.div.withConfig({\n  displayName: \"initiate__GetStartedFormProgress\",\n  componentId: \"x6xz0w-4\"\n})([\"\"]);\nvar InitiateForm = styled.div.withConfig({\n  displayName: \"initiate__InitiateForm\",\n  componentId: \"x6xz0w-5\"\n})([\"display:flex;flex-flow:column nowrap;align-items:center;\"]);\nvar InitiateFormButtons = styled.div.withConfig({\n  displayName: \"initiate__InitiateFormButtons\",\n  componentId: \"x6xz0w-6\"\n})([\"width:100%;max-width:720px;margin:auto;display:flex;flex-flow:row nowrap;justify-content:space-between;flex-direction:\", \";\"], function (props) {\n  return props.currentStep <= 1 ? 'row-reverse' : 'row';\n});\n\nvar GetStarted =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GetStarted, _Component);\n\n  function GetStarted(props) {\n    var _this;\n\n    _classCallCheck(this, GetStarted);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GetStarted).call(this, props));\n    _this.state = {\n      currentStep: 1,\n      menus: []\n    };\n    return _this;\n  }\n\n  _createClass(GetStarted, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          // User is signed in.\n          var isAnonymous = user.isAnonymous;\n          var uid = user.uid;\n          console.log(uid);\n        } else {\n          // User is signed out.\n          // ...\n          console.log('Signed out');\n          this.setState({\n            currentStep: 0\n          });\n        } // ...\n\n      }.bind(this)).bind(this);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(accepted, rejected) {\n      console.log(accepted);\n      var menus = this.state.menus;\n\n      _.forEach(accepted, function (file) {\n        var menu = {\n          name: file.name,\n          file: file,\n          progress: 0\n        };\n        menus.push(menu);\n      });\n\n      console.log(menus);\n      this.setState({\n        menus: menus\n      });\n    }\n  }, {\n    key: \"handleUpload\",\n    value: function handleUpload() {\n      var _this$state = this.state,\n          menus = _this$state.menus,\n          uid = _this$state.uid;\n\n      _.forEach(menus, function (menu) {\n        var metaData = {\n          type: menu.file.type\n        };\n        var menuRef = storageRef.child('menus/' + uid + '/' + menu.name);\n      });\n    }\n  }, {\n    key: \"handleRemove\",\n    value: function handleRemove(i) {\n      var menus = this.state.menus;\n      menus.splice(i, 1);\n      console.log(menus);\n      this.setState({\n        menus: menus\n      });\n    }\n  }, {\n    key: \"handleName\",\n    value: function handleName(value, i) {\n      var menus = this.state.menus;\n      menus[i].name = value;\n      this.setState({\n        menus: menus\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(PageWrapper, {\n        className: \"getStarted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Head, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Initiate | Somm | Your menu's personal assistant\")), React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), React.createElement(InitiateForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(PoseGroup, {\n        preEnterPose: \"preEnter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, this.state.currentStep == \"0\" && React.createElement(PageTitle, {\n        key: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Get started\"), this.state.currentStep == \"1\" && React.createElement(PageTitle, {\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"Add your menu\"), this.state.currentStep == \"2\" && React.createElement(PageTitle, {\n        key: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Choose your plan\")), this.state.currentStep === 0 && React.createElement(StyledTextField, {\n        variant: \"outlined\",\n        label: \"Business email\",\n        type: \"email\",\n        required: true,\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), this.state.currentStep === 1 && React.createElement(MenuAdder, {\n        files: this.state.menus,\n        handleDrop: function handleDrop(accepted, rejected) {\n          return _this2.handleDrop(accepted, rejected);\n        },\n        handleRemove: function handleRemove(i) {\n          return _this2.handleRemove(i);\n        },\n        handleName: function handleName(value, i) {\n          return _this2.handleName(value, i);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), React.createElement(InitiateFormButtons, {\n        currentStep: this.state.currentStep,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, this.state.currentStep > 1 && React.createElement(StyledButton, {\n        variant: \"contained\",\n        size: \"medium\",\n        onClick: function onClick() {\n          return _this2.setState({\n            currentStep: _this2.state.currentStep -= 1\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Back\"), React.createElement(StyledButton, {\n        variant: \"contained\",\n        size: \"medium\",\n        disabled: this.state.currentStep === 1 && this.state.menus.length === 0,\n        onClick: function onClick() {\n          return _this2.setState({\n            currentStep: _this2.state.currentStep += 1\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, \"Next\"))));\n    }\n  }]);\n\n  return GetStarted;\n}(Component);\n\nexport default GetStarted;","map":{"version":3,"sources":["/Users/Chris/trysomm/pages/initiate.js"],"names":["React","Component","styled","posed","PoseGroup","ProgressBar","Step","_","firebase","base","Head","Button","TextField","MenuAdder","Navbar","storage","storageRef","ref","PageWrapper","div","StyledTextField","StyledButton","props","disabled","PosedPageTitle","h1","closed","flex","fontSize","open","PageTitle","GetStartedFormProgress","InitiateForm","InitiateFormButtons","currentStep","GetStarted","state","menus","auth","onAuthStateChanged","user","isAnonymous","uid","console","log","setState","bind","accepted","rejected","forEach","file","menu","name","progress","push","metaData","type","menuRef","child","i","splice","value","handleDrop","handleRemove","handleName","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport posed, { PoseGroup } from 'react-pose';\nimport { ProgressBar, Step } from \"react-step-progress-bar\";\nimport _ from 'lodash'\nimport firebase from 'firebase'\nimport 'firebase/storage'\nimport base from '../config'\nimport Head from 'next/head'\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nimport MenuAdder from '../components/MenuAdder'\nimport Navbar from '../components/Navbar'\n\nconst storage = firebase.storage()\nconst storageRef = storage.ref()\n\nconst PageWrapper = styled.div`\n  padding: 156px 24px 24px;\n  box-sizing: border-box;\n  border: 10px solid #1f1f1f;\n  min-height: 100vh;\n\n  @media only screen and (min-width: 960px) {\n    padding: 156px 16px 16px;\n  }\n`;\n\nconst StyledTextField = styled(TextField)`\n  width: 100% !important;\n  max-width: 360px !important;\n  margin-bottom: 16px !important;\n  border-radius: 8px !important;\n  font-family: 'Source Sans Pro', sans-serif !important;\n\n  & fieldset {\n    border-radius: 0 !important;\n    border: 4px solid #1f1f1f !important;\n  }\n\n  & input {\n    border-radius: 0 !important;\n    font-family: 'Source Sans Pro', sans-serif !important;\n  }\n`;\n\nconst StyledButton = styled(Button)`\n  height: 56px !important;\n  color: #fff !important;\n  font-family: 'Source Sans Pro', sans-serif !important;\n  font-size: 1.25rem !important;\n  font-weight: 700 !important;\n  background: ${props => props.disabled ? '#dfdfdf' : '#1f1f1f'}!important;\n  border-radius: 0px !important;\n  text-transform: none !important;\n  margin-bottom: 8px !important;\n  box-shadow: none !important;\n  position: relative !important;\n  border: 0 !important;\n  transition: 0.2s ease-out all;\n  padding: 0 24px !important;\n\n  &:after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    height: 56px;\n    width: 100%;\n    background: ${props => props.disabled ? '#1f1f1f' : '#f94343'};\n    z-index: -1;\n    top: 4px;\n    left: 4px;\n  }\n`;\n\nconst PosedPageTitle = posed.h1({\n  closed: {\n    flex: 1,\n    fontSize: '20px',\n  },\n  open: {\n    flex: 5,\n    fontSize: '40px',\n  },\n})\n\nconst PageTitle = styled((props) => <PosedPageTitle {...props} />)`\n  font-size: 2rem;\n  font-weight: 700;\n  font-family: 'Montserrat', sans-serif;\n  color: #1f1f1f;\n  position: relative;\n  margin: 0 auto 16px;\n  display: inline-flex;\n\n  &:after {\n    content: \"\";\n    width: 100%;\n    height: 8px;\n    background: #f94343;\n    display: block;\n    position: absolute;\n    bottom: 0px;\n    left: 4px;\n    z-index: -1;\n  }\n`;\n\nconst GetStartedFormProgress = styled.div`\n\n`;\n\nconst InitiateForm = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n`;\n\nconst InitiateFormButtons = styled.div`\n  width: 100%;\n  max-width: 720px;\n  margin: auto;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  flex-direction: ${props => props.currentStep <= 1 ? 'row-reverse' : 'row'};\n`;\n\nclass GetStarted extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentStep: 1,\n      menus: []\n    }\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(function(user) {\n      if (user) {\n        // User is signed in.\n        var isAnonymous = user.isAnonymous;\n        var uid = user.uid;\n        console.log(uid);\n      } else {\n        // User is signed out.\n        // ...\n        console.log('Signed out');\n        this.setState({\n          currentStep: 0\n        })\n      }\n      // ...\n    }.bind(this)).bind(this);\n  }\n\n  handleDrop(accepted, rejected) {\n    console.log(accepted);\n    let { menus } = this.state\n    _.forEach(accepted, function(file) {\n      let menu = {\n        name: file.name,\n        file,\n        progress: 0,\n      }\n      menus.push(menu)\n    })\n    console.log(menus);\n    this.setState({\n      menus: menus\n    })\n  }\n\n  handleUpload() {\n    const { menus, uid } = this.state\n    _.forEach(menus, function(menu) {\n      const metaData = {\n        type: menu.file.type\n      }\n      const menuRef = storageRef.child('menus/' + uid + '/' + menu.name)\n    })\n  }\n\n  handleRemove(i) {\n    let { menus } = this.state\n    menus.splice(i, 1)\n    console.log(menus);\n    this.setState({\n      menus\n    })\n  }\n\n  handleName(value, i) {\n    const { menus } = this.state\n    menus[i].name = value\n    this.setState({\n      menus\n    })\n  }\n\n  render() {\n    return (\n      <PageWrapper className=\"getStarted\">\n        <Head>\n          <title>Initiate | Somm | Your menu's personal assistant</title>\n        </Head>\n        <Navbar />\n        <InitiateForm>\n          <PoseGroup preEnterPose='preEnter'>\n            {this.state.currentStep == \"0\" &&\n              <PageTitle key=\"0\">\n                Get started\n              </PageTitle>\n            }\n            {this.state.currentStep == \"1\" &&\n              <PageTitle key=\"1\">\n                Add your menu\n              </PageTitle>\n            }\n            {this.state.currentStep == \"2\" &&\n              <PageTitle key=\"2\">\n                Choose your plan\n              </PageTitle>\n            }\n          </PoseGroup>\n          {this.state.currentStep === 0 &&\n            <StyledTextField variant=\"outlined\" label=\"Business email\" type=\"email\" required autoFocus/>\n          }\n          {this.state.currentStep === 1 &&\n            <MenuAdder\n              files={this.state.menus}\n              handleDrop={(accepted, rejected) => this.handleDrop(accepted, rejected)}\n              handleRemove={(i) => this.handleRemove(i)}\n              handleName={(value, i) => this.handleName(value, i)}/>\n          }\n          <InitiateFormButtons currentStep={this.state.currentStep}>\n            {this.state.currentStep > 1 &&\n              <StyledButton\n                variant=\"contained\"\n                size=\"medium\"\n                onClick={() => this.setState({ currentStep: this.state.currentStep -= 1})}>\n                Back\n              </StyledButton>\n            }\n            <StyledButton\n              variant=\"contained\"\n              size=\"medium\"\n              disabled={this.state.currentStep === 1 && this.state.menus.length === 0}\n              onClick={() => this.setState({ currentStep: this.state.currentStep += 1})}>\n              Next\n            </StyledButton>\n          </InitiateFormButtons>\n\n        </InitiateForm>\n      </PageWrapper>\n    );\n  }\n\n}\n\nexport default GetStarted;\n"]},"metadata":{},"sourceType":"module"}