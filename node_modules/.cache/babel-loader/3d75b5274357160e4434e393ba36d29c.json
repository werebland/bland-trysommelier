{"ast":null,"code":"import _Set from \"@babel/runtime-corejs2/core-js/set\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/Chris/trysomm/pages/initiate.js\";\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport posed, { PoseGroup } from 'react-pose';\nimport _ from 'lodash';\nimport firebase from 'firebase';\nimport 'firebase/storage';\nimport base from '../config';\nimport Head from \"next-server/head\";\nimport NoSSR from 'react-no-ssr';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Typography from '@material-ui/core/Typography';\nimport MenuAdder from '../components/MenuAdder';\nimport Navbar from '../components/Navbar';\nimport RestaurantForm from '../components/RestaurantForm';\nvar storage = firebase.storage();\nvar storageRef = storage.ref();\nvar PageWrapper = styled.div.withConfig({\n  displayName: \"initiate__PageWrapper\",\n  componentId: \"x6xz0w-0\"\n})([\"padding:156px 24px 24px;box-sizing:border-box;border:10px solid #1f1f1f;min-height:100vh;@media only screen and (min-width:960px){padding:156px 16px 16px;}\"]);\nvar StyledTextField = styled(TextField).withConfig({\n  displayName: \"initiate__StyledTextField\",\n  componentId: \"x6xz0w-1\"\n})([\"width:100% !important;max-width:360px !important;margin-bottom:16px !important;border-radius:8px !important;font-family:'Source Sans Pro',sans-serif !important;& fieldset{border-radius:0 !important;border:4px solid #1f1f1f !important;}& input{border-radius:0 !important;font-family:'Source Sans Pro',sans-serif !important;}\"]);\nvar StyledButton = styled(Button).withConfig({\n  displayName: \"initiate__StyledButton\",\n  componentId: \"x6xz0w-2\"\n})([\"height:56px !important;color:#fff !important;font-family:'Source Sans Pro',sans-serif !important;font-size:1.25rem !important;font-weight:700 !important;background:\", \"!important;border-radius:0px !important;text-transform:none !important;margin-bottom:8px !important;box-shadow:none !important;position:relative !important;border:0 !important;transition:0.2s ease-out all;padding:0 24px !important;&:after{content:\\\"\\\";display:block;position:absolute;height:56px;width:100%;background:\", \";z-index:-1;top:4px;left:4px;}\"], function (props) {\n  return props.disabled ? '#dfdfdf' : '#1f1f1f';\n}, function (props) {\n  return props.disabled ? '#1f1f1f' : '#f94343';\n});\nvar PosedPageTitle = posed.h1({\n  closed: {\n    flex: 1,\n    fontSize: '20px'\n  },\n  open: {\n    flex: 5,\n    fontSize: '40px'\n  }\n});\nvar PageTitle = styled(function (props) {\n  return React.createElement(PosedPageTitle, _extends({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }));\n}).withConfig({\n  displayName: \"initiate__PageTitle\",\n  componentId: \"x6xz0w-3\"\n})([\"font-size:2rem;font-weight:700;font-family:'Montserrat',sans-serif;color:#1f1f1f;position:relative;margin:0 auto 16px;display:inline-flex;&:after{content:\\\"\\\";width:100%;height:8px;background:#f94343;display:block;position:absolute;bottom:0px;left:4px;z-index:-1;}\"]);\nvar GetStartedFormProgress = styled.div.withConfig({\n  displayName: \"initiate__GetStartedFormProgress\",\n  componentId: \"x6xz0w-4\"\n})([\"\"]);\nvar InitiateForm = styled.div.withConfig({\n  displayName: \"initiate__InitiateForm\",\n  componentId: \"x6xz0w-5\"\n})([\"display:flex;flex-flow:column nowrap;align-items:center;\"]);\nvar InitiateFormButtons = styled.div.withConfig({\n  displayName: \"initiate__InitiateFormButtons\",\n  componentId: \"x6xz0w-6\"\n})([\"width:100%;max-width:720px;margin:auto;display:flex;flex-flow:row nowrap;justify-content:space-between;flex-direction:\", \";\"], function (props) {\n  return props.currentStep <= 1 ? 'row-reverse' : 'row';\n});\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: '90%'\n    },\n    button: {\n      marginRight: theme.spacing.unit\n    },\n    instructions: {\n      marginTop: theme.spacing.unit,\n      marginBottom: theme.spacing.unit\n    }\n  };\n};\n\nfunction getSteps() {\n  return ['Tell us about your restaurant', 'Add your menus', 'Select a plan'];\n}\n\nfunction getStepContent(step) {\n  switch (step) {\n    case 0:\n      return 'Select campaign settings...';\n\n    case 1:\n      return 'What is an ad group anyways?';\n\n    case 2:\n      return 'This is the bit I really care about!';\n\n    default:\n      return 'Unknown step';\n  }\n}\n\nvar GetStarted =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GetStarted, _Component);\n\n  function GetStarted(props) {\n    var _this;\n\n    _classCallCheck(this, GetStarted);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GetStarted).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isStepOptional\", function (step) {\n      return step === 1;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleNext\", function () {\n      var activeStep = _this.state.activeStep;\n      var skipped = _this.state.skipped;\n\n      if (_this.isStepSkipped(activeStep)) {\n        skipped = new _Set(skipped.values());\n        skipped.delete(activeStep);\n      }\n\n      _this.setState({\n        activeStep: activeStep + 1,\n        skipped: skipped\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleBack\", function () {\n      _this.setState(function (state) {\n        return {\n          activeStep: state.activeStep - 1\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSkip\", function () {\n      var activeStep = _this.state.activeStep;\n\n      if (!_this.isStepOptional(activeStep)) {\n        // You probably want to guard against something like this,\n        // it should never occur unless someone's actively trying to break something.\n        throw new Error(\"You can't skip a step that isn't optional.\");\n      }\n\n      _this.setState(function (state) {\n        var skipped = new _Set(state.skipped.values());\n        skipped.add(activeStep);\n        return {\n          activeStep: state.activeStep + 1,\n          skipped: skipped\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleReset\", function () {\n      _this.setState({\n        activeStep: 0\n      });\n    });\n\n    _this.state = {\n      activeStep: 0,\n      skipped: new _Set(),\n      menus: [],\n      status: \"Upload\",\n      uid: ''\n    };\n    return _this;\n  }\n\n  _createClass(GetStarted, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          // User is signed in.\n          var isAnonymous = user.isAnonymous;\n          var uid = user.uid;\n          console.log(uid);\n          this.setState({\n            currentStep: 1,\n            uid: uid\n          });\n          this.fetchRestaurant(uid);\n        } else {\n          // User is signed out.\n          // ...\n          console.log('Signed out');\n          this.setState({\n            currentStep: 0\n          });\n        } // ...\n\n      }.bind(this)).bind(this);\n    }\n  }, {\n    key: \"fetchRestaurant\",\n    value: function fetchRestaurant(uid) {\n      var _this2 = this;\n\n      base.get('restaurants', {\n        context: this,\n        withIds: true,\n        query: function query(ref) {\n          return ref.where('owner', '==', uid);\n        }\n      }).then(function (data) {\n        _this2.setState({\n          restaurant: data[0]\n        });\n      }).catch(function (err) {//handle error\n      });\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(accepted, rejected) {\n      console.log(accepted);\n      var menus = this.state.menus;\n\n      _.forEach(accepted, function (file) {\n        var menu = {\n          name: file.name,\n          file: file,\n          progress: 0\n        };\n        menus.push(menu);\n      });\n\n      console.log(menus);\n      this.setState({\n        menus: menus\n      });\n    }\n  }, {\n    key: \"handleUpload\",\n    value: function handleUpload() {\n      var _this$state = this.state,\n          menus = _this$state.menus,\n          uid = _this$state.uid;\n      this.setState({\n        status: \"Uploading...\"\n      });\n\n      _.forEach(menus, function (menu) {\n        var file = menu.file;\n        var metadata = {\n          type: file.type\n        };\n        var menuRef = storageRef.child('menus/' + uid + '/' + menu.name);\n        console.log(menuRef);\n        console.log(metadata);\n        var uploadTask = menuRef.put(file, metadata); // Listen for state changes, errors, and completion of the upload.\n\n        uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\n        function (snapshot) {\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n          var progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n          console.log('Upload is ' + progress + '% done');\n\n          switch (snapshot.state) {\n            case firebase.storage.TaskState.PAUSED:\n              // or 'paused'\n              console.log('Upload is paused');\n              break;\n\n            case firebase.storage.TaskState.RUNNING:\n              // or 'running'\n              console.log('Upload is running');\n              break;\n          }\n        }, function (error) {\n          // A full list of error codes is available at\n          // https://firebase.google.com/docs/storage/web/handle-errors\n          switch (error.code) {\n            case 'storage/unauthorized':\n              // User doesn't have permission to access the object\n              break;\n\n            case 'storage/canceled':\n              // User canceled the upload\n              break;\n\n            case 'storage/unknown':\n              // Unknown error occurred, inspect error.serverResponse\n              break;\n          }\n        }, function () {\n          // Upload completed successfully, now we can get the download URL\n          uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n            console.log('File available at', downloadURL);\n          });\n        }).bind(this);\n      });\n\n      this.setState({\n        status: \"Uploaded\"\n      });\n    }\n  }, {\n    key: \"handleRemove\",\n    value: function handleRemove(i) {\n      var menus = this.state.menus;\n      menus.splice(i, 1);\n      console.log(menus);\n      this.setState({\n        menus: menus\n      });\n    }\n  }, {\n    key: \"handleName\",\n    value: function handleName(value, i) {\n      var menus = this.state.menus;\n      menus[i].name = value;\n      this.setState({\n        menus: menus\n      });\n    }\n  }, {\n    key: \"handleRestaurantChange\",\n    value: function handleRestaurantChange(target) {\n      var value = target.value,\n          name = target.name;\n      var restaurant = this.state.restaurant;\n      restaurant[name] = value;\n      this.setState({\n        restaurant: restaurant\n      });\n    }\n  }, {\n    key: \"isStepSkipped\",\n    value: function isStepSkipped(step) {\n      return this.state.skipped.has(step);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var classes = this.props.classes;\n      var steps = getSteps();\n      var activeStep = this.state.activeStep;\n      return React.createElement(PageWrapper, {\n        className: \"getStarted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, React.createElement(Head, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, React.createElement(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, \"Initiate | Somm | Your menu's personal assistant\")), React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }), React.createElement(NoSSR, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: '90%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, React.createElement(Stepper, {\n        activeStep: activeStep,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, steps.map(function (label, index) {\n        var props = {};\n        var labelProps = {};\n\n        if (_this3.isStepOptional(index)) {\n          labelProps.optional = React.createElement(Typography, {\n            variant: \"caption\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 380\n            },\n            __self: this\n          }, \"Optional\");\n        }\n\n        if (_this3.isStepSkipped(index)) {\n          props.completed = false;\n        }\n\n        return React.createElement(Step, _extends({\n          key: label\n        }, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 386\n          },\n          __self: this\n        }), React.createElement(StepLabel, _extends({}, labelProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387\n          },\n          __self: this\n        }), label));\n      }))), React.createElement(\"div\", {\n        style: {\n          width: '90%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, activeStep === steps.length ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, \"All steps completed - you're finished\"), React.createElement(Button, {\n        onClick: this.handleReset,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, \"Reset\")) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, getStepContent(activeStep)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, React.createElement(Button, {\n        disabled: activeStep === 0,\n        onClick: this.handleBack,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, \"Back\"), this.isStepOptional(activeStep) && React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.handleSkip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, \"Skip\"), React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.handleNext,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, activeStep === steps.length - 1 ? 'Finish' : 'Next'))))));\n    }\n  }]);\n\n  return GetStarted;\n}(Component);\n\nexport default GetStarted;","map":{"version":3,"sources":["/Users/Chris/trysomm/pages/initiate.js"],"names":["React","Component","styled","posed","PoseGroup","_","firebase","base","Head","NoSSR","Button","TextField","Stepper","Step","StepLabel","Typography","MenuAdder","Navbar","RestaurantForm","storage","storageRef","ref","PageWrapper","div","StyledTextField","StyledButton","props","disabled","PosedPageTitle","h1","closed","flex","fontSize","open","PageTitle","GetStartedFormProgress","InitiateForm","InitiateFormButtons","currentStep","styles","theme","root","width","button","marginRight","spacing","unit","instructions","marginTop","marginBottom","getSteps","getStepContent","step","GetStarted","activeStep","state","skipped","isStepSkipped","values","delete","setState","isStepOptional","Error","add","menus","status","uid","auth","onAuthStateChanged","user","isAnonymous","console","log","fetchRestaurant","bind","get","context","withIds","query","where","then","data","restaurant","catch","err","accepted","rejected","forEach","file","menu","name","progress","push","metadata","type","menuRef","child","uploadTask","put","on","TaskEvent","STATE_CHANGED","snapshot","bytesTransferred","totalBytes","TaskState","PAUSED","RUNNING","error","code","getDownloadURL","downloadURL","i","splice","value","target","has","classes","steps","map","label","index","labelProps","optional","completed","length","handleReset","handleBack","handleSkip","handleNext"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport posed, { PoseGroup } from 'react-pose';\nimport _ from 'lodash'\nimport firebase from 'firebase'\nimport 'firebase/storage'\nimport base from '../config'\nimport Head from 'next/head'\nimport NoSSR from 'react-no-ssr';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Typography from '@material-ui/core/Typography';\n\nimport MenuAdder from '../components/MenuAdder'\nimport Navbar from '../components/Navbar'\nimport RestaurantForm from '../components/RestaurantForm'\n\nconst storage = firebase.storage()\nconst storageRef = storage.ref()\n\nconst PageWrapper = styled.div`\n  padding: 156px 24px 24px;\n  box-sizing: border-box;\n  border: 10px solid #1f1f1f;\n  min-height: 100vh;\n\n  @media only screen and (min-width: 960px) {\n    padding: 156px 16px 16px;\n  }\n`;\n\nconst StyledTextField = styled(TextField)`\n  width: 100% !important;\n  max-width: 360px !important;\n  margin-bottom: 16px !important;\n  border-radius: 8px !important;\n  font-family: 'Source Sans Pro', sans-serif !important;\n\n  & fieldset {\n    border-radius: 0 !important;\n    border: 4px solid #1f1f1f !important;\n  }\n\n  & input {\n    border-radius: 0 !important;\n    font-family: 'Source Sans Pro', sans-serif !important;\n  }\n`;\n\nconst StyledButton = styled(Button)`\n  height: 56px !important;\n  color: #fff !important;\n  font-family: 'Source Sans Pro', sans-serif !important;\n  font-size: 1.25rem !important;\n  font-weight: 700 !important;\n  background: ${props => props.disabled ? '#dfdfdf' : '#1f1f1f'}!important;\n  border-radius: 0px !important;\n  text-transform: none !important;\n  margin-bottom: 8px !important;\n  box-shadow: none !important;\n  position: relative !important;\n  border: 0 !important;\n  transition: 0.2s ease-out all;\n  padding: 0 24px !important;\n\n  &:after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    height: 56px;\n    width: 100%;\n    background: ${props => props.disabled ? '#1f1f1f' : '#f94343'};\n    z-index: -1;\n    top: 4px;\n    left: 4px;\n  }\n`;\n\nconst PosedPageTitle = posed.h1({\n  closed: {\n    flex: 1,\n    fontSize: '20px',\n  },\n  open: {\n    flex: 5,\n    fontSize: '40px',\n  },\n})\n\nconst PageTitle = styled((props) => <PosedPageTitle {...props} />)`\n  font-size: 2rem;\n  font-weight: 700;\n  font-family: 'Montserrat', sans-serif;\n  color: #1f1f1f;\n  position: relative;\n  margin: 0 auto 16px;\n  display: inline-flex;\n\n  &:after {\n    content: \"\";\n    width: 100%;\n    height: 8px;\n    background: #f94343;\n    display: block;\n    position: absolute;\n    bottom: 0px;\n    left: 4px;\n    z-index: -1;\n  }\n`;\n\nconst GetStartedFormProgress = styled.div`\n\n`;\n\nconst InitiateForm = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n`;\n\nconst InitiateFormButtons = styled.div`\n  width: 100%;\n  max-width: 720px;\n  margin: auto;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  flex-direction: ${props => props.currentStep <= 1 ? 'row-reverse' : 'row'};\n`;\n\nconst styles = theme => ({\n  root: {\n    width: '90%',\n  },\n  button: {\n    marginRight: theme.spacing.unit,\n  },\n  instructions: {\n    marginTop: theme.spacing.unit,\n    marginBottom: theme.spacing.unit,\n  },\n});\n\nfunction getSteps() {\n  return ['Tell us about your restaurant', 'Add your menus', 'Select a plan'];\n}\n\nfunction getStepContent(step) {\n  switch (step) {\n    case 0:\n      return 'Select campaign settings...';\n    case 1:\n      return 'What is an ad group anyways?';\n    case 2:\n      return 'This is the bit I really care about!';\n    default:\n      return 'Unknown step';\n  }\n}\n\nclass GetStarted extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeStep: 0,\n      skipped: new Set(),\n      menus: [],\n      status: \"Upload\",\n      uid: ''\n    }\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(function(user) {\n      if (user) {\n        // User is signed in.\n        var isAnonymous = user.isAnonymous;\n        var uid = user.uid;\n        console.log(uid);\n        this.setState({\n          currentStep: 1,\n          uid\n        })\n        this.fetchRestaurant(uid)\n      } else {\n        // User is signed out.\n        // ...\n        console.log('Signed out');\n        this.setState({\n          currentStep: 0\n        })\n      }\n      // ...\n    }.bind(this)).bind(this);\n  }\n\n  fetchRestaurant(uid) {\n    base.get('restaurants', {\n      context: this,\n      withIds: true,\n      query: (ref) => ref.where('owner', '==', uid),\n    }).then(data => {\n      this.setState({\n        restaurant: data[0]\n      })\n    }).catch(err => {\n      //handle error\n    })\n  }\n\n  handleDrop(accepted, rejected) {\n    console.log(accepted);\n    let { menus } = this.state\n    _.forEach(accepted, function(file) {\n      let menu = {\n        name: file.name,\n        file,\n        progress: 0,\n      }\n      menus.push(menu)\n    })\n    console.log(menus);\n    this.setState({\n      menus: menus\n    })\n  }\n\n  handleUpload() {\n    const { menus, uid } = this.state\n    this.setState({\n      status: \"Uploading...\"\n    })\n    _.forEach(menus, function(menu) {\n      const file = menu.file\n      const metadata = {\n        type: file.type\n      }\n      const menuRef = storageRef.child('menus/' + uid + '/' + menu.name)\n      console.log(menuRef);\n      console.log(metadata);\n      var uploadTask = menuRef.put(file, metadata)\n      // Listen for state changes, errors, and completion of the upload.\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\n        function(snapshot) {\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n          var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          console.log('Upload is ' + progress + '% done');\n          switch (snapshot.state) {\n            case firebase.storage.TaskState.PAUSED: // or 'paused'\n              console.log('Upload is paused');\n              break;\n            case firebase.storage.TaskState.RUNNING: // or 'running'\n              console.log('Upload is running');\n              break;\n          }\n        }, function(error) {\n\n        // A full list of error codes is available at\n        // https://firebase.google.com/docs/storage/web/handle-errors\n        switch (error.code) {\n          case 'storage/unauthorized':\n            // User doesn't have permission to access the object\n            break;\n          case 'storage/canceled':\n            // User canceled the upload\n            break;\n          case 'storage/unknown':\n            // Unknown error occurred, inspect error.serverResponse\n            break;\n        }\n      }, function() {\n        // Upload completed successfully, now we can get the download URL\n        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\n          console.log('File available at', downloadURL);\n        });\n      }).bind(this);\n    })\n    this.setState({\n      status: \"Uploaded\"\n    })\n  }\n\n  handleRemove(i) {\n    let { menus } = this.state\n    menus.splice(i, 1)\n    console.log(menus);\n    this.setState({\n      menus\n    })\n  }\n\n  handleName(value, i) {\n    const { menus } = this.state\n    menus[i].name = value\n    this.setState({\n      menus\n    })\n  }\n\n  handleRestaurantChange(target) {\n    const { value, name } = target\n    const { restaurant } = this.state\n    restaurant[name] = value\n    this.setState({\n      restaurant\n    })\n  }\n\n    isStepOptional = step => step === 1;\n\n  handleNext = () => {\n    const { activeStep } = this.state;\n    let { skipped } = this.state;\n    if (this.isStepSkipped(activeStep)) {\n      skipped = new Set(skipped.values());\n      skipped.delete(activeStep);\n    }\n    this.setState({\n      activeStep: activeStep + 1,\n      skipped,\n    });\n  };\n\n  handleBack = () => {\n    this.setState(state => ({\n      activeStep: state.activeStep - 1,\n    }));\n  };\n\n  handleSkip = () => {\n    const { activeStep } = this.state;\n    if (!this.isStepOptional(activeStep)) {\n      // You probably want to guard against something like this,\n      // it should never occur unless someone's actively trying to break something.\n      throw new Error(\"You can't skip a step that isn't optional.\");\n    }\n\n    this.setState(state => {\n      const skipped = new Set(state.skipped.values());\n      skipped.add(activeStep);\n      return {\n        activeStep: state.activeStep + 1,\n        skipped,\n      };\n    });\n  };\n\n  handleReset = () => {\n    this.setState({\n      activeStep: 0,\n    });\n  };\n\n  isStepSkipped(step) {\n    return this.state.skipped.has(step);\n  }\n\n  render() {\n    const { classes } = this.props;\n    const steps = getSteps();\n    const { activeStep } = this.state;\n\n    return (\n      <PageWrapper className=\"getStarted\">\n        <Head>\n          <title>Initiate | Somm | Your menu's personal assistant</title>\n        </Head>\n        <Navbar />\n        <NoSSR>\n        <div style={{ width: '90%'}}>\n          <Stepper activeStep={activeStep}>\n            {steps.map((label, index) => {\n              const props = {};\n              const labelProps = {};\n              if (this.isStepOptional(index)) {\n                labelProps.optional = <Typography variant=\"caption\">Optional</Typography>;\n              }\n              if (this.isStepSkipped(index)) {\n                props.completed = false;\n              }\n              return (\n                <Step key={label} {...props}>\n                  <StepLabel {...labelProps}>{label}</StepLabel>\n                </Step>\n              );\n            })}\n          </Stepper>\n        </div>\n        <div style={{ width: '90%'}}>\n          {activeStep === steps.length ? (\n            <div>\n              <Typography>\n                All steps completed - you&apos;re finished\n              </Typography>\n              <Button onClick={this.handleReset}>\n                Reset\n              </Button>\n            </div>\n          ) : (\n            <div>\n              <div>{getStepContent(activeStep)}</div>\n              <div>\n                <Button\n                  disabled={activeStep === 0}\n                  onClick={this.handleBack}\n                >\n                  Back\n                </Button>\n                {this.isStepOptional(activeStep) && (\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={this.handleSkip}\n                  >\n                    Skip\n                  </Button>\n                )}\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={this.handleNext}\n                >\n                  {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n        </NoSSR>\n\n\n\n      </PageWrapper>\n    );\n  }\n\n}\n\nexport default GetStarted;\n"]},"metadata":{},"sourceType":"module"}